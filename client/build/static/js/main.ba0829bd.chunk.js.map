{"version":3,"sources":["components/layout/Navbar.js","components/layout/Home.js","context/patient/PatientContext.js","components/Patients/register/Register.js","context/patient/PatientReducer.js","context/types.js","context/patient/PatientState.js","components/Patients/login/Login.js","context/booking/BookingContext.js","components/appointment/Bookings.js","context/booking/bookingReducer.js","context/booking/BookingState.js","components/Patients/PatientItem.js","App.js","index.js"],"names":["Navbar","className","id","to","href","class","onClick","x","document","getElementById","Home","src","alt","PatientContext","createContext","Register","props","patientContext","useContext","authorised","register","error","removeErrors","useEffect","history","push","alert","useState","name","identityNo","email","phone","address","patient","setPatient","handleChange","e","target","value","onSubmit","preventDefault","htmlFor","type","onChange","required","placeholder","state","action","payload","localStorage","setItem","removeItem","token","PatientState","initialState","getItem","loading","useReducer","PatientReducer","dispatch","setToken","axios","defaults","headers","common","showPatient","a","get","res","data","formData","config","post","err","response","msg","logIn","Provider","user","logout","children","Login","BookingContext","Bookings","booking","bookingContext","getAppointments","cancelAppointments","_id","date","bookings","filter","BookingState","bookingReducer","appointments","makeAppointment","delete","PatientItem","length","map","key","App","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.ba0829bd.chunk.js","sourcesContent":["import React  from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n    const navigator = () => {\r\n      const x = document.getElementById(\"myTopnav\");\r\n      if (x.className === \"topnav\") {\r\n        x.className += \" responsive\";\r\n        } else {\r\n        x.className = \"topnav\";\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div className=\"topnav\" id=\"myTopnav\" >\r\n        <Link to='/home' >Home</Link>\r\n        <Link to='/about' >About</Link>\r\n        <Link to='/login'>Login</Link>\r\n        <a href=\"/\" className=\"icon\" >\r\n        <i class=\"fa fa-bars\" onClick={navigator}></i>\r\n      </a>\r\n      </div>\r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Home = () => {\r\n    \r\n        \r\n    return (\r\n        <div>\r\n            <h2>Wellness Clinic</h2>\r\n            <div className='slide-container'>\r\n                <img src=\"\" alt=\"\"/>\r\n                \r\n            </div>\r\n            <div>\r\n                <h4><i className='fas fa-clock' />  Working Hours </h4>\r\n                <p>Monday - Thursday : 08h00 - 19h00  </p>\r\n                <p>Friday : 08h00 - 18h00</p>\r\n                <p>Saturday  and Sunday : 09h00 -16h00</p>\r\n            </div>\r\n            <div >\r\n                <h4><i className='fas fa-map-marker' />  Address </h4>\r\n                <p>238 Dassuty Road</p>\r\n                <p>Cape Town</p>\r\n                <p>Western Cape</p>\r\n            </div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import { createContext } from 'react';\r\n\r\n\r\nconst PatientContext = createContext();\r\n\r\nexport default PatientContext;","import React, { useContext, useEffect, useState} from 'react';\r\nimport PatientContext from '../../../context/patient/PatientContext'\r\n\r\n\r\nconst Register = props => {\r\n\r\n    const patientContext = useContext( PatientContext );\r\n\r\n    const { authorised, register, error, removeErrors} =patientContext;\r\n\r\n    useEffect(() => {\r\n        if(authorised){\r\n            props.history.push('/');   \r\n        }\r\n        if(error === 'The ID number you have entered is already registered/ belongs to someone else'){\r\n            alert('User cannot be registered');\r\n            removeErrors();\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [ authorised, error, props.history]);\r\n\r\n    const [patient, setPatient] = useState({\r\n        name: '',\r\n        identityNo: '',\r\n        email: '',\r\n        phone: '',\r\n        address: ''\r\n    })\r\n\r\n    const { name, identityNo, email, phone, address} = patient;\r\n\r\n    const handleChange = e => setPatient({...patient, [e.target.name] : e.target.value});\r\n\r\n    const registerPatient = e => {\r\n        e.preventDefault();\r\n            register({\r\n                name,\r\n                identityNo,\r\n                email,\r\n                phone,\r\n                address\r\n            })\r\n        }\r\n    return (\r\n        <div className='container'>\r\n        <form onSubmit =  {registerPatient}>\r\n            <h1>Register </h1>\r\n            <div className='form-group'>\r\n                <label htmlFor='name'>Fullname</label>\r\n                <input type=\"text\" name='name' value={name} onChange={handleChange} required placeholder='Fullname'/>\r\n            </div>\r\n            <div className='form-group'>\r\n                    <label htmlFor='identityNo'>ID Number</label>\r\n                    <input type='text' name='identityNo' value={identityNo} onChange={handleChange} required placeholder='enter ID number'/>\r\n                </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email</label>\r\n                <input type='email' name='email' value={email} onChange={handleChange} required placeholder='Email'/>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='phone'>Phone</label>\r\n                <input type=\"text\" name='phone' value={phone} onChange={handleChange} required placeholder=\"Phone\"/>\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"address\">Physical Address</label>\r\n                <input type=\"text\" name='address' value={address} onChange={handleChange} required/>\r\n            </div>\r\n            <div>\r\n                <button className='btn btn-block' type='submit'>Register</button>\r\n            </div>\r\n            \r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n","import {\r\n    REGISTER,\r\n    REGISTER_ERROR,\r\n    LOGIN,\r\n    GET_PATIENT,\r\n    LOGIN_ERROR,\r\n    REMOVE_ERRORS,\r\n    LOGOUT\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n    switch( action.type) {\r\n        case GET_PATIENT:\r\n            return {\r\n                ...state,\r\n                authorised:true,\r\n                patient: action.payload\r\n            }\r\n        case REGISTER:\r\n        case LOGIN:\r\n        localStorage.setItem('token', action.payload);   \r\n            return{\r\n                ...state,\r\n                ...action.payload,\r\n                authorised: true,\r\n                }\r\n        case REGISTER_ERROR:\r\n        case LOGIN_ERROR:\r\n            return{\r\n                ...state,\r\n                ...action.payload,\r\n                authorised: false,\r\n                patient:null \r\n            }\r\n        case REMOVE_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n        case LOGOUT:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                authorised: false,\r\n                patient: null\r\n            }\r\n       default:\r\n           return state;\r\n    }\r\n}","export const REGISTER = 'REGISTER';\r\nexport const REGISTER_ERROR = 'REGISTER_ERROR';\r\nexport const GET_PATIENT = 'GET_PATIENT';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\r\nexport const GET_APPOINTMENTS = 'GET_APPOINTMENTS';\r\nexport const MAKE_APPOINTMENT = 'ADD_APPOINTMENT';\r\nexport const CANCEL_APPOINTMENT = 'DELETE_APPOINTMENT';\r\nexport const ERROR = 'ERROR';\r\nexport const BOOKING_ERROR = 'BOOKING_ERROR';\r\nexport const REMOVE_ERRORS = 'REMOVE_ERRORS'; ","import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    REGISTER,\r\n    REGISTER_ERROR,\r\n    LOGIN,\r\n    LOGIN_ERROR,\r\n    REMOVE_ERRORS,\r\n    GET_PATIENT,\r\n    ERROR,\r\n    LOGOUT\r\n} from '../types';\r\nimport PatientContext from './PatientContext';\r\nimport PatientReducer from './PatientReducer'\r\n\r\nconst PatientState = props => {\r\n\r\n    const initialState = [{\r\n        token: localStorage.getItem('token'),\r\n        authorised: false,\r\n        patient: null,\r\n        loading: true,\r\n        error: null\r\n    }\r\n    ]\r\n    const [ state, dispatch] = useReducer( PatientReducer, initialState);\r\n\r\n    const setToken = token => {\r\n        if(token) {\r\n            axios.defaults.headers.common['x-auth-token'] = token;\r\n        }else{\r\n            delete axios.defaults.headers.common['x-auth-token'];\r\n        }\r\n    }\r\n    //show the patients info\r\n    const showPatient = async () => {\r\n        if(localStorage.token){\r\n            setToken(localStorage.token);\r\n        }\r\n        \r\n        try {\r\n\r\n            const res = await axios.get('/api/bookings')\r\n            dispatch({type: GET_PATIENT, payload: res.data})\r\n        } catch (error) {\r\n            dispatch({ type: ERROR })\r\n        }\r\n    }\r\n\r\n    //regiter a patient\r\n    const register = async formData =>{\r\n        const config = {     \r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        try {\r\n            const res = axios.post('/api/patients',formData, config);\r\n            dispatch({\r\n                type:REGISTER,\r\n                payload: res.data\r\n            });\r\n            showPatient();\r\n        } catch (err) {\r\n            dispatch({\r\n                type: REGISTER_ERROR,\r\n                payload: err.response.data.msg\r\n            })\r\n        }\r\n    }\r\n    //patient login\r\n    const logIn = async formData => {\r\n        const config = { headers: { 'Content-Type': 'application/json' }}\r\n        \r\n        try {\r\n            const res = await axios.post('/api/auth', formData, config);\r\n\r\n            dispatch({\r\n                type: LOGIN,\r\n                payload: res.data\r\n            });\r\n            showPatient();\r\n        } catch (err) {\r\n            dispatch({\r\n                type: LOGIN_ERROR,\r\n                payload: err.response.data.msg\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    //REMOVING THE ERRORS\r\n    const removeErrors = () => dispatch({ type: REMOVE_ERRORS});\r\n\r\n    //patient logout\r\n    const logout = () => dispatch({ type: LOGOUT })\r\n\r\n    return (\r\n        <PatientContext.Provider\r\n        value = {{\r\n            token: state.token,\r\n            authorised: state.authorised,\r\n            loading: state.loading,\r\n            user: state.user,\r\n            error: state.error,\r\n            setToken,\r\n            register,\r\n            showPatient,\r\n            logIn,\r\n            logout,\r\n            removeErrors\r\n        }}\r\n        >   \r\n            {props.children}\r\n        </PatientContext.Provider>\r\n    )\r\n}\r\n\r\nexport default PatientState;\r\n","import React, { useEffect, useContext, useState} from 'react';\r\nimport PatientContext from '../../../context/patient/PatientContext';\r\nimport Register from '../register/Register'\r\nimport PatientState from '../../../context/patient/PatientState';\r\n\r\nconst Login = props => {\r\n    const patientContext = useContext( PatientContext );\r\n\r\n    const { authorised, logIn, error, removeErrors} = patientContext;\r\n\r\n    useEffect(() => {\r\n        if(authorised){\r\n            props.history.push('/');\r\n        }\r\n        if(error === 'invalid credentials') {\r\n            alert('User cannot be registered');\r\n            removeErrors(); \r\n        }\r\n        // eslint-disable-next-line\r\n    }, [ authorised, error, props.history])\r\n\r\n    const [patient, setPatient] = useState({\r\n        name: '',\r\n        identityNo: ''  \r\n    })\r\n\r\n    const { name, identityNo } = patient;\r\n\r\n    const handleChange = e => setPatient({...patient, [e.target.name] : e.target.value});\r\n\r\n    const loginPatient = e => {\r\n        e.preventDefault();\r\n        if(name === '' || identityNo === ''){\r\n            alert('Please fill in both fullname and password')\r\n        }\r\n        else {\r\n            logIn({\r\n                name,\r\n                identityNo\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div>\r\n                <h4>Not registered?</h4>\r\n                <a href=\"/register\">Register here</a>\r\n            </div>\r\n            <form onSubmit={loginPatient}>\r\n                <h3>Login</h3>\r\n                <div className='form-group'>\r\n                    <label htmlFor='name'>Fullname</label>\r\n                    <input type='text' name='name' value={name} onChange={handleChange} placeholder='fullname' required/>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='identityNo'>Password</label>\r\n                    <input type='text' name='identityNo' value={identityNo} onChange={handleChange} required placeholder='enter ID number'/>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <button className='btn btn-block' type='submit' value=\"Login\" >Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import { createContext } from 'react';\r\n\r\n\r\nconst BookingContext = createContext();\r\n\r\nexport default BookingContext;","import React, {useEffect, useContext} from 'react';\r\nimport BookingContext from '../../context/booking/BookingContext'\r\n\r\nconst Bookings = ({booking}) => {\r\n    const bookingContext = useContext(BookingContext);\r\n    const {  getAppointments, cancelAppointments } = bookingContext;\r\n    const { _id, type, date} = booking;\r\n\r\n    useEffect(() => {\r\n        getAppointments();\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const onClick = () => {\r\n        cancelAppointments(_id);\r\n    }\r\n\r\n    return (\r\n        <div className='card'>\r\n           <h3 className=\"text-primary text-left\">\r\n               Appointment Type : {type}\r\n           </h3>\r\n           <h3>\r\n               Date and Time : { date }\r\n           </h3>\r\n           <p>\r\n               <button className='btn btn-block btn-dark' onClick={onClick}> Cancel </button>\r\n           </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bookings;\r\n","import {\r\n    MAKE_APPOINTMENT,\r\n    GET_APPOINTMENTS,\r\n    CANCEL_APPOINTMENT\r\n} from '../types';\r\n\r\nexport default ( state, action) => {\r\n    switch( action.type) {\r\n        case MAKE_APPOINTMENT:\r\n            return{\r\n               ...state,\r\n               bookings: [action.payload, ...state.bookings],\r\n            }\r\n        case GET_APPOINTMENTS:\r\n            return{\r\n                ...state,\r\n                bookings: action.payload\r\n            }\r\n        case CANCEL_APPOINTMENT:\r\n            return{\r\n                ...state,\r\n                bookings: state.bookings.filter(\r\n                    booking => booking._id !== action.payload),  \r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React, { useReducer} from 'react';\r\nimport axios from 'axios';\r\nimport bookingReducer from './bookingReducer';\r\nimport BookingContext from './BookingContext';\r\nimport {\r\n    MAKE_APPOINTMENT,\r\n    GET_APPOINTMENTS,\r\n    CANCEL_APPOINTMENT,\r\n    BOOKING_ERROR,\r\n    REMOVE_ERRORS\r\n} from '../types';\r\n\r\n\r\nconst BookingState = props => {\r\n    const initialState = {\r\n        bookings: [],\r\n        appointments: [],\r\n        error: false\r\n    }\r\n\r\n    const [ state, dispatch ] = useReducer( bookingReducer, initialState)\r\n\r\n    //show appointments\r\n    const getAppointments = async () =>{\r\n        try {\r\n           const res = await axios.get('/api/booking') \r\n            dispatch({ type: GET_APPOINTMENTS, payload: res.data})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg })\r\n        }\r\n    }\r\n\r\n    //book an appointment\r\n    const makeAppointment = async booking => {\r\n        const config = {\r\n            headers: {'Content-Type':'application/json'}\r\n        }\r\n        try {\r\n            const res = await axios.post('api/booking', booking, config)\r\n            dispatch({type: MAKE_APPOINTMENT, payload: res.data})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg })\r\n        }\r\n    }\r\n    //cancel appointment\r\n    const cancelAppointments = async id => {\r\n        try {\r\n            await axios.delete(`/api/booking/${id}`)\r\n            dispatch({ type: CANCEL_APPOINTMENT, payload: id})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg})\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <BookingContext.Provider\r\n            value = {{\r\n                bookings: state.bookings,\r\n                appointments: state.appointments,\r\n                error: state.error,\r\n                cancelAppointments,\r\n                makeAppointment,\r\n                getAppointments\r\n            }}>\r\n           {props.children} \r\n        </BookingContext.Provider>\r\n    )\r\n}\r\n\r\nexport default BookingState;\r\n","import React,{ useEffect, useContext} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Bookings from '../appointment/Bookings';\r\nimport BookingForm from '../appointment/BookingForm';\r\nimport BookingContext from '../../context/booking/BookingContext'\r\nimport PatientContext from '../../context/patient/PatientContext';\r\n\r\nconst PatientItem = () => {\r\n    const bookingContext = useContext(BookingContext);\r\n    const patientContext = useContext(PatientContext)\r\n    const { _id, bookings, makeAppointment, getAppointments } = bookingContext;\r\n    const { logout,  } = patientContext;\r\n    \r\n    const logOut = () => {\r\n        logout();\r\n    }\r\n\r\n    return (\r\n        <div className='container'>\r\n            <ul>\r\n                <li>\r\n                    <p> </p><h4>Your appointments</h4>                       \r\n                    <button className='btn btn-block btn-right' onClick={logOut} >Logout</button>\r\n\r\n                    {bookings.length < 0 ? \r\n                    (<div>\r\n                        <p className=\"center\">You do not have any appointments</p>\r\n                        <button className=\"btn btn-block\" >Book Appointment</button>\r\n                    </div>\r\n                    ) :\r\n                    (bookings.map(booking =>\r\n                    <Bookings key={booking._id} booking={booking} />))}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PatientItem;\r\n","import React, {Fragment } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\nimport Home from './components/layout/Home';\r\nimport Register from './components/Patients/register/Register';\r\nimport Login from './components/Patients/login/Login';\r\nimport Bookings from './components/appointment/Bookings'\r\nimport PatientState from './context/patient/PatientState';\r\nimport BookingState from './context/booking/BookingState';\r\nimport PatientItem from './components/Patients/PatientItem'\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  return (\r\n    <PatientState>\r\n      <BookingState>\r\n        <Router>\r\n        <Fragment>\r\n        <Navbar/>\r\n        <div className='App center'>\r\n          <Switch>\r\n              <Route exact path='/home' component={Home}/>\r\n              <Route exact path='/login' component={Login}/>\r\n              <Route exact path='/register' component={Register}/>\r\n              <Route exact path='/bookings' component={PatientItem}/>\r\n              <Route exact path='/booking' component={Bookings}/>\r\n          </Switch>\r\n        </div> \r\n        </Fragment>\r\n        </Router>\r\n      </BookingState>\r\n    </PatientState>\r\n      \r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}