{"version":3,"sources":["components/layout/Navbar.js","components/layout/Home.js","context/patient/PatientContext.js","components/Patients/register/Register.js","context/SettingToken.js","context/patient/PatientReducer.js","context/types.js","context/patient/PatientState.js","components/Patients/login/Login.js","context/booking/BookingContext.js","components/appointment/BookingForm.js","components/appointment/Bookings.js","components/Patients/Patient.js","context/booking/bookingReducer.js","context/booking/BookingState.js","components/layout/Footer.js","App.js","index.js"],"names":["Navbar","className","id","to","href","class","onClick","nav","document","getElementById","Home","src","alt","style","width","PatientContext","createContext","Register","props","patientContext","useContext","authorised","register","error","removeErrors","useEffect","history","push","alert","useState","name","identityNo","email","phone","address","patient","setPatient","handleChange","e","target","value","onSubmit","preventDefault","htmlFor","type","onChange","required","placeholder","minLength","SettingToken","token","axios","defaults","headers","common","state","action","payload","localStorage","setItem","removeItem","PatientState","initialState","getItem","useReducer","PatientReducer","dispatch","showPatient","a","get","res","data","formData","config","post","err","response","msg","logIn","Provider","loading","user","logout","children","Login","body","innerHTML","BookingContext","BookingForm","makeAppointment","setBooking","date","bookings","Bookings","booking","bookingContext","getAppointments","cancelAppointments","_id","Patient","float","length","map","filter","BookingState","bookingReducer","appointments","delete","Footer","App","exact","path","component","About","ReactDOM","render"],"mappings":"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","file":"static/js/main.5a89b115.chunk.js","sourcesContent":["import React  from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n    const navigator = () => {\r\n      const nav = document.getElementById(\"myTopnav\");\r\n      if (nav.className === \"topnav\") {\r\n        nav.className += \" responsive\";\r\n        } else {\r\n        nav.className = \"topnav\";\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div className=\"topnav\" id=\"myTopnav\" >\r\n        <Link to='/' >Home</Link>\r\n        <Link to='/about' >About</Link>\r\n        <Link to='/login'>Login</Link>\r\n        <a href=\"#\" className=\"icon\" >\r\n        <i class=\"fa fa-bars\" onClick={navigator}></i>\r\n      </a>\r\n      </div>\r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Home = () => {\r\n    \r\n        \r\n    return (\r\n        <div>\r\n            <h2>Wellness Clinic</h2>\r\n            <h4>Login to book an appointment</h4>\r\n            <div className='slide-container'>\r\n                <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ4T_OK0JA7vIVUn1_nFMMfB_zFLWbOPjLuOg&usqp=CAU\"\r\n                 alt=\"home\" \r\n                style={{width:'100%'}}/>\r\n                \r\n            </div>\r\n            <div>\r\n                <h4><i className='fas fa-clock-square' />  Working Hours </h4>\r\n                <p>Monday - Thursday : 08h00 - 19h00  </p>\r\n                <p>Friday : 08h00 - 18h00</p>\r\n                <p>Saturday  and Sunday : 09h00 -16h00</p>\r\n            </div>\r\n            <div >\r\n                <h4><i className='fas fa-map-marker' />  Address </h4>\r\n                <p>238 Dassuty Road</p>\r\n                <p>Cape Town</p>\r\n                <p>Western Cape</p>\r\n            </div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import { createContext } from 'react';\r\n\r\n\r\nconst PatientContext = createContext();\r\n\r\nexport default PatientContext;","import React, { useContext, useEffect, useState} from 'react';\r\nimport PatientContext from '../../../context/patient/PatientContext'\r\n\r\n\r\nconst Register = props => {\r\n\r\n    const patientContext = useContext( PatientContext );\r\n\r\n    const { authorised, register, error, removeErrors} = patientContext;\r\n\r\n    useEffect(() => {\r\n        if(authorised){\r\n            props.history.push('/bookings');   \r\n        }\r\n        if(error === 'The ID number you have entered is already registered/ belongs to someone else'){\r\n            alert('User cannot be registered');\r\n            removeErrors();\r\n        }\r\n        \r\n        // eslint-disable-next-line\r\n    }, [ authorised, error, props.history]);\r\n\r\n    const [patient, setPatient] = useState({\r\n        name: '',\r\n        identityNo: '',\r\n        email: '',\r\n        phone: '',\r\n        address: ''\r\n    })\r\n\r\n    const { name, identityNo, email, phone, address} = patient;\r\n\r\n    const handleChange = e => setPatient({...patient, [e.target.name] : e.target.value});\r\n\r\n    const registerPatient = e => {\r\n        e.preventDefault();\r\n            register(patient);\r\n        }\r\n    return (\r\n        <div className='container'>\r\n        <form onSubmit ={registerPatient} className='form' >\r\n            <h1>Register </h1>\r\n            <div className='form-group'>\r\n                <label htmlFor='name'>Fullname</label>\r\n                <input type=\"text\" name='name' value={name} \r\n                onChange={handleChange} required placeholder='Fullname'/>\r\n            </div>\r\n            <div className='form-group'>\r\n                    <label htmlFor='identityNo'>ID Number</label>\r\n                    <input type='number' name='identityNo' minLength='13'\r\n                    value={identityNo} onChange={handleChange} \r\n                    placeholder='enter ID number' required />\r\n                </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email</label>\r\n                <input type='email' name='email' value={email} \r\n                onChange={handleChange}  placeholder='Email' required/>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='phone'>Phone</label>\r\n                <input type=\"text\" name='phone' value={phone} minLength='10'\r\n                onChange={handleChange} required placeholder=\"Phone\"/>\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"address\">Physical Address</label>\r\n                <input type=\"text\" name='address' value={address} onChange={handleChange} required/>\r\n            </div>\r\n            <div>\r\n                <button className='btn btn-block' type='submit'>Register</button>\r\n            </div>\r\n            \r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n","import axios from 'axios';\r\n\r\nconst SettingToken = token => {\r\n    if(token) {\r\n        axios.defaults.headers.common['x-auth-token'] = token;\r\n    } else {\r\n        delete axios.defaults.headers.common['x-auth-token'];\r\n    }\r\n};\r\n\r\nexport default SettingToken;","import {\r\n    REGISTER,\r\n    REGISTER_ERROR,\r\n    LOGIN,\r\n    GET_PATIENT,\r\n    LOGIN_ERROR,\r\n    REMOVE_ERRORS,\r\n    LOGOUT\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n    switch( action.type) {\r\n        case GET_PATIENT:\r\n            return {\r\n                ...state,\r\n                authorised:true,\r\n                patient: action.payload\r\n            }\r\n        case REGISTER:\r\n        case LOGIN:\r\n        localStorage.setItem('token', action.payload);   \r\n            return{\r\n                ...state,\r\n                ...action.payload,\r\n                authorised: true,\r\n                }\r\n        case REGISTER_ERROR:\r\n        case LOGIN_ERROR:\r\n            return{\r\n                ...state,\r\n                ...action.payload,\r\n                authorised: false,\r\n                patient:null \r\n            }\r\n        case REMOVE_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n        case LOGOUT:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                authorised: false,\r\n                patient: null\r\n            }\r\n       default:\r\n           return state;\r\n    }\r\n}","export const REGISTER = 'REGISTER';\r\nexport const REGISTER_ERROR = 'REGISTER_ERROR';\r\nexport const GET_PATIENT = 'GET_PATIENT';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\r\nexport const GET_APPOINTMENTS = 'GET_APPOINTMENTS';\r\nexport const MAKE_APPOINTMENT = 'ADD_APPOINTMENT';\r\nexport const CANCEL_APPOINTMENT = 'DELETE_APPOINTMENT';\r\nexport const ERROR = 'ERROR';\r\nexport const BOOKING_ERROR = 'BOOKING_ERROR';\r\nexport const REMOVE_ERRORS = 'REMOVE_ERRORS'; ","import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    REGISTER,\r\n    REGISTER_ERROR,\r\n    LOGIN,\r\n    LOGIN_ERROR,\r\n    REMOVE_ERRORS,\r\n    GET_PATIENT,\r\n    ERROR,\r\n    LOGOUT\r\n} from '../types';\r\nimport SettingToken from '../SettingToken';\r\nimport PatientContext from './PatientContext';\r\nimport PatientReducer from './PatientReducer'\r\n\r\nconst PatientState = props => {\r\n\r\n    const initialState = [{\r\n        token: localStorage.getItem('token'),\r\n        authorised: false,\r\n        patient: null,\r\n        error: null\r\n    }\r\n    ]\r\n    const [ state, dispatch] = useReducer( PatientReducer, initialState);\r\n\r\n    //show the patients info\r\n    const showPatient = async () => {\r\n        if(localStorage.token){\r\n            SettingToken(localStorage.token);\r\n        }\r\n        \r\n        try {\r\n            const res = await axios.get('/api/bookings')\r\n            dispatch({type: GET_PATIENT, payload: res.data})\r\n        } catch (error) {\r\n            dispatch({ type: ERROR })\r\n        }\r\n    }\r\n\r\n    //regiter a patient\r\n    const register = async formData =>{\r\n        const config = {     \r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        try {\r\n            const res = axios.post('/api/patients',formData, config);\r\n            dispatch({\r\n                type:REGISTER,\r\n                payload: res.data\r\n            });\r\n            showPatient();\r\n        } catch (err) {\r\n            dispatch({\r\n                type: REGISTER_ERROR,\r\n                payload: err.response.data.msg\r\n            })\r\n        }\r\n    }\r\n    //patient login\r\n    const logIn = async formData => {\r\n        const config = { headers: { 'Content-Type': 'application/json' }}\r\n        \r\n        try {\r\n            const res = await axios.post('/api/auth', formData, config);\r\n\r\n            dispatch({\r\n                type: LOGIN,\r\n                payload: res.data\r\n            });\r\n            showPatient();\r\n        } catch (err) {\r\n            dispatch({\r\n                type: LOGIN_ERROR,\r\n                payload: err.response.data.msg\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    //REMOVING THE ERRORS\r\n    const removeErrors = () => dispatch({ type: REMOVE_ERRORS});\r\n\r\n    //patient logout\r\n    const logout = () => dispatch({ type: LOGOUT })\r\n\r\n    return (\r\n        <PatientContext.Provider\r\n        value = {{\r\n            token: state.token,\r\n            authorised: state.authorised,\r\n            loading: state.loading,\r\n            user: state.user,\r\n            error: state.error,\r\n            SettingToken,\r\n            register,\r\n            showPatient,\r\n            logIn,\r\n            logout,\r\n            removeErrors\r\n        }}\r\n        >   \r\n            {props.children}\r\n        </PatientContext.Provider>\r\n    )\r\n}\r\n\r\nexport default PatientState;\r\n","import React, { useEffect, useContext, useState} from 'react';\r\nimport PatientContext from '../../../context/patient/PatientContext';\r\nimport PatientState from '../../../context/patient/PatientState';\r\n\r\nconst Login = props => {\r\n    const patientContext = useContext( PatientContext );\r\n\r\n    const { authorised, logIn, error, removeErrors} = patientContext;\r\n\r\n    useEffect(() => {\r\n        if(authorised){\r\n            props.history.push('/bookings');\r\n        }\r\n        if(error === 'invalid credentials') {\r\n            alert('User cannot be registered');\r\n            removeErrors(); \r\n        }\r\n        // eslint-disable-next-line\r\n    }, [ authorised, error, props.history])\r\n\r\n    const [patient, setPatient] = useState({\r\n        name: '',\r\n        identityNo: ''  \r\n    })\r\n\r\n    const { name, identityNo } = patient;\r\n    const handleChange = e => setPatient({...patient, [e.target.name] : e.target.value});\r\n\r\n    const loginPatient = e => {\r\n        e.preventDefault(); \r\n        if(name || identityNo === ''){\r\n            document.body.innerHTML = '<'\r\n        }       \r\n        logIn(patient); \r\n        }\r\n    //\r\n    return (\r\n        <div className='container'>\r\n            <div>\r\n                <h4>Not registered?</h4>\r\n                <a href=\"/register\">Register here</a>\r\n            </div>\r\n            <form onSubmit={loginPatient} className='form'>\r\n                <h3>Login</h3>\r\n                <div className='form-group'>\r\n                    <label htmlFor='name'>Fullname</label>\r\n                    <input type='text' name='name' value={name} \r\n                    onChange={handleChange} placeholder='fullname' required/>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='identityNo'>Password</label>\r\n                    <input type='number' name='identityNo' \r\n                    value={identityNo} onChange={handleChange} \r\n                     minLength='13' placeholder='enter ID number' required/>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <button className='btn btn-block' type='submit'  >Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import { createContext } from 'react';\r\n\r\n\r\nconst BookingContext = createContext();\r\n\r\nexport default BookingContext;","import React, { useContext, useEffect, useState} from 'react';\r\nimport BookingContext from '../../context/booking/BookingContext';\r\n\r\nconst BookingForm = () => {\r\n    const bookingContext = useContext(BookingContext);\r\n    const {  makeAppointment } = bookingContext;\r\n\r\n    useEffect(() => {\r\n        setBooking({\r\n            type:'',\r\n            date: ''\r\n        })\r\n    }, [])\r\n\r\n    const [bookings, setBooking] = useState({\r\n        type: '',\r\n        date: ''\r\n    });\r\n\r\n    const { type, date} = bookings;\r\n\r\n    const handleChange = e => setBooking({...bookings, [e.target.name]: e.target.value});\r\n\r\n    const addBooking = e => {\r\n        e.preventDefault();\r\n        makeAppointment(bookings);\r\n    }\r\n    \r\n    return (\r\n        <form onSubmit = {addBooking} className='form'>\r\n            <h3>Book an appointment</h3>\r\n            <div className='form-group'>\r\n                <label htmlFor=\"type\">Type</label>\r\n                <input type=\"text\" id=\"type\" name=\"type\" \r\n                onChange={handleChange}\r\n                value={type} required/>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor=\"date\">Appointment Date</label>\r\n                <input type=\"datetime\" name=\"date\" id=\"date\" \r\n                value={date} onChange={handleChange} required/>\r\n            </div>\r\n            \r\n            <div className='form-btn'>\r\n                <button type=\"submit\" className='btn btn-block'>Book Appointment</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default BookingForm;\r\n","import React, {useEffect, useContext} from 'react';\r\nimport BookingContext from '../../context/booking/BookingContext'\r\n\r\nconst Bookings = ({ booking }) => {\r\n    const bookingContext = useContext(BookingContext);\r\n    const {  getAppointments, cancelAppointments } = bookingContext;\r\n    const { _id, type, date} = booking;\r\n\r\n    useEffect(() => {\r\n        getAppointments();\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const onClick = () => {\r\n        cancelAppointments(_id);\r\n    }\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h3>Your Appointments</h3>\r\n            <button className='btn btn-right'>New Appointment</button>\r\n            <div className='card'>\r\n            <h3 className=\"text text-left\">\r\n               Appointment Type : {type}\r\n           </h3>\r\n           <h3 className=\"text text-left\" >\r\n               Date and Time : { date }\r\n           </h3>\r\n           <p>\r\n               <button className='btn btn-dark' onClick={onClick}> Cancel </button>\r\n           </p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bookings;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport PatientContext from '../../context/patient/PatientContext';\r\nimport BookingContext from '../../context/booking/BookingContext'; \r\nimport BookingForm from '../appointment/BookingForm';\r\nimport Bookings from '../appointment/Bookings';\r\n\r\nconst Patient = () => {\r\n    const bookingContext = useContext( BookingContext);\r\n    const patientContext = useContext(PatientContext)\r\n    const { bookings } = bookingContext\r\n    const { logout } = patientContext;\r\n\r\n    const onClick = () => {\r\n        logout();\r\n    }\r\n    return (\r\n        <div className='container'>\r\n        <button className='btn' style={{float:'right'}} onClick={onClick}> Log out</button> \r\n           { bookings.length !== 0 ? \r\n           bookings.map(( booking => \r\n           <Bookings booking={booking} />)) \r\n           : <BookingForm/> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Patient;\r\n","import {\r\n    MAKE_APPOINTMENT,\r\n    GET_APPOINTMENTS,\r\n    CANCEL_APPOINTMENT\r\n} from '../types';\r\n\r\nexport default ( state, action) => {\r\n    switch( action.type) {\r\n        case MAKE_APPOINTMENT:\r\n            return{\r\n               ...state,\r\n               bookings: [action.payload, ...state.bookings],\r\n            }\r\n        case GET_APPOINTMENTS:\r\n            return{\r\n                ...state,\r\n                bookings: action.payload\r\n            }\r\n        case CANCEL_APPOINTMENT:\r\n            return{\r\n                ...state,\r\n                bookings: state.bookings.filter(\r\n                    booking => booking._id !== action.payload),  \r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React, { useReducer} from 'react';\r\nimport axios from 'axios';\r\nimport bookingReducer from './bookingReducer';\r\nimport BookingContext from './BookingContext';\r\nimport {\r\n    MAKE_APPOINTMENT,\r\n    GET_APPOINTMENTS,\r\n    CANCEL_APPOINTMENT,\r\n    BOOKING_ERROR,\r\n    REMOVE_ERRORS\r\n} from '../types';\r\n\r\n\r\nconst BookingState = props => {\r\n    const initialState = {\r\n        bookings: [],\r\n        appointments: [],\r\n        error: false\r\n    }\r\n\r\n    const [ state, dispatch ] = useReducer( bookingReducer, initialState)\r\n\r\n    //show appointments\r\n    const getAppointments = async () =>{\r\n        try {\r\n           const res = await axios.get('/api/bookings') \r\n            dispatch({ type: GET_APPOINTMENTS, payload: res.data})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg })\r\n        }\r\n    }\r\n\r\n    //book an appointment\r\n    const makeAppointment = async booking => {\r\n        const config = {\r\n            headers: {'Content-Type':'application/json'}\r\n        }\r\n        try {\r\n            const res = await axios.post('api/bookings', booking, config)\r\n            dispatch({type: MAKE_APPOINTMENT, payload: res.data})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg })\r\n        }\r\n    }\r\n    //cancel appointment\r\n    const cancelAppointments = async id => {\r\n        try {\r\n            await axios.delete(`/api/bookings/${id}`)\r\n            dispatch({ type: CANCEL_APPOINTMENT, payload: id})\r\n        } catch (err) {\r\n            dispatch({ type: BOOKING_ERROR, payload: err.response.msg})\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <BookingContext.Provider\r\n            value = {{\r\n                bookings: state.bookings,\r\n                appointments: state.appointments,\r\n                error: state.error,\r\n                cancelAppointments,\r\n                makeAppointment,\r\n                getAppointments\r\n            }}>\r\n           {props.children} \r\n        </BookingContext.Provider>\r\n    )\r\n}\r\n\r\nexport default BookingState;\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className='footer'>\r\n            <ul>\r\n                <li>Copyright@ clinic-booking</li>\r\n                <li><i class=\"fas fa-facebook\"></i></li>\r\n                <li><i class=\"fas fa-twitter\"></i></li>\r\n                <li><i class=\"fas fa-envelope\"></i></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, { Fragment, useContext  } from 'react';\r\nimport axios from 'axios';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Navbar from './components/layout/Navbar';\r\nimport Home from './components/layout/Home';\r\nimport About from './components/layout/Home';\r\nimport Register from './components/Patients/register/Register';\r\nimport Login from './components/Patients/login/Login';\r\nimport Patient from './components/Patients/Patient'\r\nimport PatientState from './context/patient/PatientState';\r\nimport BookingState from './context/booking/BookingState';\r\nimport SettingToken from './context/SettingToken'\r\nimport './App.css';\r\nimport Footer from './components/layout/Footer';\r\n\r\nif(localStorage.token) {\r\n  SettingToken(localStorage.token);\r\n}\r\nconst App = () => {\r\n  \r\n  return (\r\n    <PatientState>\r\n      <BookingState>\r\n        <Router>\r\n        <Fragment>\r\n        <Navbar/>\r\n        <div className='App center'>\r\n          <Switch>\r\n              <Route exact path='/' component={Home}/>\r\n              <Route exact path='/about' component={About}/>\r\n              <Route exact path='/login' component={Login}/>\r\n              <Route exact path='/register' component={Register}/>\r\n              <Route exact path='/bookings' component={Patient}/>\r\n          </Switch>\r\n        </div> \r\n        <Footer/>\r\n        </Fragment>\r\n        </Router>\r\n      </BookingState>\r\n    </PatientState>\r\n      \r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}